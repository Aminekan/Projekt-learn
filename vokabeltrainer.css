:root{
    --bg: #0b1020;
    --panel: rgba(255,255,255,.06);
    --panel2: rgba(255,255,255,.09);
    --text: #eef2ff;
    --muted: rgba(238,242,255,.75);
    --border: rgba(255,255,255,.12);
    --shadow: 0 18px 60px rgba(0,0,0,.35);
    --primary: #4f8cff;
    --primary2: #2dd4bf;
    --danger: #ff5a7a;
    --ok: #22c55e;
    --radius: 18px;
    --gap: 18px;
    --font: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  }
  
  html[data-theme="light"]{
    --bg:#f6f8ff;
    --panel: rgba(0,0,0,.04);
    --panel2: rgba(0,0,0,.06);
    --text:#0b1020;
    --muted: rgba(11,16,32,.7);
    --border: rgba(0,0,0,.10);
    --shadow: 0 18px 60px rgba(2,6,23,.12);
  }
  
  *{box-sizing:border-box}
  body{
    margin:0;
    font-family:var(--font);
    color:var(--text);
    background:
      radial-gradient(1200px 700px at 20% 0%, rgba(79,140,255,.35), transparent 55%),
      radial-gradient(900px 600px at 95% 10%, rgba(45,212,191,.28), transparent 55%),
      radial-gradient(900px 700px at 40% 110%, rgba(255,90,122,.22), transparent 55%),
      var(--bg);
    min-height:100vh;
  }
  
  .wrap{width:min(1100px, 94vw); margin:28px auto 42px;}
  
  .grid{display:grid;grid-template-columns: 1.05fr .95fr;gap:var(--gap);}
  @media (max-width: 920px){ .grid{grid-template-columns:1fr} }
  
  .card{
    background: var(--panel);
    border:1px solid var(--border);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    backdrop-filter: blur(12px);
    overflow:hidden;
  }
  .cardHead{
    padding:16px 18px;
    display:flex;align-items:center;justify-content:space-between;
    background: linear-gradient(180deg, rgba(255,255,255,.06), transparent);
    border-bottom:1px solid var(--border);
  }
  .cardHead h2{margin:0;font-size:15px;letter-spacing:.2px;}
  .tag{
    padding:6px 10px;border-radius:999px;
    border:1px solid var(--border);
    background: rgba(255,255,255,.05);
    font-size:12px;color:var(--muted);
  }
  .cardBody{padding:16px 18px}
  .full{grid-column:1/-1}
  
  .formGrid{display:grid;grid-template-columns: 1fr 1fr;gap:12px;}
  @media (max-width:520px){ .formGrid{grid-template-columns:1fr} }
  .field label{display:block;font-size:12px;color:var(--muted);margin:0 0 6px;}
  .input, .select{
    width:100%;
    padding:11px 12px;border-radius:12px;
    border:1px solid var(--border);
    background: rgba(0,0,0,.14);
    color:var(--text);
    outline:none;
    transition:border-color .2s ease, background .2s ease;
  }
  html[data-theme="light"] .input, html[data-theme="light"] .select{background: rgba(255,255,255,.7);}
  .input:focus, .select:focus{border-color: rgba(79,140,255,.65); background: rgba(79,140,255,.08);}
  
  .btn{
    border:1px solid var(--border);
    background: rgba(255,255,255,.05);
    color:var(--text);
    padding:10px 12px;
    border-radius:12px;
    cursor:pointer;
    transition: transform .08s ease, background .2s ease, border-color .2s ease;
    font-weight:600;
  }
  .btn:hover{background: rgba(255,255,255,.08); border-color: rgba(255,255,255,.18)}
  .btn:active{transform: translateY(1px)}
  .btn.primary{
    border-color: rgba(79,140,255,.55);
    background: linear-gradient(135deg, rgba(79,140,255,.95), rgba(45,212,191,.80));
    color:#081023;
  }
  .btn.danger{
    border-color: rgba(255,90,122,.55);
    background: rgba(255,90,122,.14);
  }
  
  .row{display:flex;gap:10px;margin-top:14px;flex-wrap:wrap;}
  .hint{margin-top:12px;font-size:12px;color:var(--muted);line-height:1.5;}
  .hint b{color:var(--text)}
  
  .searchBar{display:flex;gap:10px;align-items:center;margin-bottom:12px;}
  .searchBar .input{flex:1}
  .stats{display:flex;gap:10px;flex-wrap:wrap;margin:10px 0 14px;}
  .stat{
    flex:1;min-width:140px;
    padding:12px 12px;border-radius:14px;
    background: var(--panel2);
    border:1px solid var(--border);
  }
  .stat small{display:block;color:var(--muted)}
  .stat strong{font-size:16px}
  
  .list{display:flex;flex-direction:column;gap:10px;max-height:360px;overflow:auto;padding-right:4px;}
  .item{
    display:flex;justify-content:space-between;gap:10px;
    padding:12px 12px;border-radius:14px;
    border:1px solid var(--border);
    background: rgba(255,255,255,.04);
  }
  .item .left{min-width:0}
  .item .w1{font-weight:800;font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
  .item .w2{color:var(--muted);font-size:13px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:3px;}
  
  .badge{
    align-self:flex-start;
    padding:6px 10px;border-radius:999px;
    border:1px solid var(--border);
    font-size:12px;background: rgba(255,255,255,.04);
    white-space:nowrap;
  }
  .badge.easy{border-color: rgba(34,197,94,.35); color: rgba(34,197,94,.95)}
  .badge.mid{border-color: rgba(245,158,11,.35); color: rgba(245,158,11,.95)}
  .badge.hard{border-color: rgba(255,90,122,.35); color: rgba(255,90,122,.95)}
  
  .footerNote{margin-top:14px;font-size:12px;color:var(--muted);}
  
  .learnTop{display:flex;gap:10px;align-items:center;flex-wrap:wrap;justify-content:space-between;}
  .learnLeft{display:flex;gap:10px;align-items:center;flex-wrap:wrap;}
  .toggle{display:flex;align-items:center;gap:8px;color:var(--muted);font-size:13px;user-select:none;}
  .toggle input{width:16px;height:16px}
  .mini{
    padding:10px 12px;border-radius:12px;
    border:1px solid var(--border);
    background: rgba(255,255,255,.05);
    color:var(--text);
  }
  
  .quiz{
    margin-top:14px;
    padding:14px;border-radius:16px;
    border:1px solid var(--border);
    background: rgba(255,255,255,.04);
  }
  .qTitle{display:flex;justify-content:space-between;gap:10px;align-items:center;margin-bottom:10px;}
  .qTitle strong{font-size:14px}
  .qTitle small{color:var(--muted)}
  .answerRow{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px;}
  .msg{margin-top:10px;font-size:13px;color:var(--muted);}
  .msg.ok{color: rgba(34,197,94,.95)}
  .msg.bad{color: rgba(255,90,122,.95)}
  .linkBtn{border:none;background:none;color:inherit;cursor:pointer;text-decoration:underline;padding:0;font-weight:700;}
  
  /* RESULT PILL */
  .resultPill{
    display:inline-flex;
    align-items:center;
    padding:10px 12px;
    border-radius:999px;
    border:1px solid var(--border);
    background: rgba(255,255,255,.06);
    color: var(--muted);
    font-weight:800;
    user-select:none;
  }
  .resultPill.ok{
    border-color: rgba(34,197,94,.55);
    background: rgba(34,197,94,.14);
    color: rgba(34,197,94,.95);
  }
  .resultPill.bad{
    border-color: rgba(255,90,122,.55);
    background: rgba(255,90,122,.14);
    color: rgba(255,90,122,.95);
  }
  